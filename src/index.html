<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Редактор текста</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        .editor {
            width: 100%;
            height: 100%;
        }
        .toolbar{
            display:grid;
            grid-template-columns: repeat(auto-fit,minmax(20px,40px));
            background-color: rgb(231, 231, 231);
            color: rgb(0, 0, 0);
            grid-gap: 1rem;
            padding: 1rem;
            justify-content: center;
            align-items:center;
        }

        .tool-items{
            background-color: rgb(27, 26, 26);
            padding-top: .6rem;
            padding-bottom:.6rem;
            cursor: pointer;
            color: #ffff;
        }
        .tool-items:hover{
            box-shadow: none;
            background-color: #6b5e5e;

        }
    </style>
</head>

<script src="/socket.io/socket.io.js"></script>

<body>
<div class="toolbar">

    <button class="tool-items fa fa-underline"  onclick="document.execCommand('underline', false, '');">
    </button>

    <button class="tool-items fa fa-italic" onclick="document.execCommand('italic', false, '');">
    </button>


    <button class="tool-items fa fa-bold" onclick="document.execCommand('bold', false, '');">
    </button>


    <button class="tool-items fa fa-link" onclick="link()">
    </button>

    <button class="tool-items fa fa-scissors" onclick="document.execCommand('cut',false,'')"></button>


    <input class="tool-items fa fa-file-image-o" type="file" accept="image/*" id="file" style="display: none;" onchange="getImage()">

    <label for="file" class="tool-items fa fa-file-image-o"></label>





    <button class="tool-items fa fa-undo" onclick="document.execCommand('undo',false,'')"></button>

    <button class="tool-items fa fa-repeat" onclick="document.execCommand('redo',false,'')"></button>

    <button class="tool-items fa fa-tint" onclick="changeColor()"></button>

    <button class="tool-items fa fa-strikethrough" onclick="document.execCommand('strikeThrough',false,'')"></button>

    <button class="tool-items fa fa-trash" onclick="document.execCommand('delete',false,'')"></button>


    <button class="tool-items fa fa-scribd" onclick="document.execCommand('selectAll',false,'')"></button>


    <button class="tool-items fa fa-clone" onclick="copy()"></button>




    <!-- Jutify -->

    <button class="tool-items fa fa-align-center" onclick="document.execCommand('justifyCenter',false,'')"></button>
    <button class="tool-items fa fa-align-left" onclick="document.execCommand('justifyLeft',false,'')"></button>
    <button class="tool-items fa fa-align-right" onclick="document.execCommand('justifyRight',false,'')"></button>
</div>
<div class="editor" contenteditable>
    <h1>Simple Html editor</h1>
    <p>Good to start</p>
</div>
<script async>
    const socket = io();
    const $editor = document.querySelector('.editor');
    $editor.addEventListener('input', (event) => {
        debugger;
        socket.emit('document change', $editor.innerHTML);
    })
</script>
</body>
</html>